<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Provas - Aprende+</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/ensino.css" />
  <link rel="stylesheet" href="css/provas.css" />
</head>
<body>
  <header class="topbar">
    <div class="logo"><img src="css/img/aprende+.png" alt="Aprende+" style="height:48px"/></div>
    <nav class="navbar">
      <a href="index.html" class="nav-link">In√≠cio</a>
      <a href="menudeensino.html" class="nav-link active">Menu de ensino</a>
      <a href="provas.html" class="nav-link">Provas</a>
    </nav>
    <div class="login-button">
      <a href="#" id="openLogin">Login</a>
      <button id="themeToggle" class="theme-toggle" aria-label="Alternar tema">üåó</button>
    </div>
  </header>

  <main class="content">
    <div class="main-container-proof">
      <h1 class="section-title">Provas</h1>
      <!-- controle do professor: per-activity toggles (retake / view answers) -->
      <p style="max-width:900px;margin:0 auto 20px;color:inherit;">Realize simulados, teste seus conhecimentos e acompanhe seus resultados. Este √© um prot√≥tipo funcional para testar fluxo de prova e salvar resultados localmente.</p>

      <div class="activity-toolbar" style="max-width:1100px;margin:8px auto 18px;display:flex;justify-content:flex-end">
        <button id="openCreateActivity" class="sidebar-btn primary-action create-activity-btn">+ Criar Atividade</button>
      </div>

      <div id="customActivities"></div>

      <section class="cards-grid">
          <div class="card-simulado">
          <div>
            <h3>Simulado de Portugu√™s</h3>
            <p>20 quest√µes ‚Ä¢ sem tempo</p>
          </div>
          <div class="card-footer-actions">
            <div style="display:flex;align-items:center;gap:8px">
              <button class="sidebar-btn primary-action btn-pill" data-test="portugues" onclick="startTest('portugues')">Iniciar</button>
              <button class="sidebar-btn secondary btn-pill" onclick="openCreateModalFor && openCreateModalFor('portugues')">Detalhes</button>
            </div>
          </div>
        </div>

        <div class="card-simulado">
          <div>
            <h3>Simulado de Matem√°tica</h3>
            <p>20 quest√µes ‚Ä¢ sem tempo</p>
          </div>
          <div class="card-footer-actions">
            <div style="display:flex;align-items:center;gap:8px">
              <button class="sidebar-btn primary-action btn-pill" data-test="matematica" onclick="startTest('matematica')">Iniciar</button>
              <button class="sidebar-btn secondary btn-pill" onclick="openCreateModalFor && openCreateModalFor('matematica')">Detalhes</button>
            </div>
          </div>
        </div>

        <div class="card-simulado">
          <div>
            <h3>Simulado Geral</h3>
            <p>10 quest√µes mistas</p>
          </div>
          <div class="card-footer-actions">
            <div style="display:flex;align-items:center;gap:8px">
              <button class="sidebar-btn primary-action btn-pill" data-test="geral" onclick="startTest('geral')">Iniciar</button>
              <button class="sidebar-btn secondary btn-pill" onclick="openCreateModalFor && openCreateModalFor('geral')">Detalhes</button>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- Modal de prova simples -->
    <div id="testModal" class="modal">
      <div class="modal-content" id="modalContent">
        <span class="close-btn" id="closeTest">√ó</span>
        <h2 id="modalTitle">Prova</h2>
        <div id="questionArea" style="margin-top:12px;color:inherit"></div>
        <div style="margin-top:18px;text-align:right;">
          <button id="nextBtn" class="sidebar-btn primary-action">Pr√≥xima</button>
        </div>
      </div>
    </div>

    <!-- Modal de cria√ß√£o de atividade -->
    <div id="createActivityModal" class="modal" style="display:none">
      <div class="modal-content">
        <span class="close-btn" id="closeCreateActivity">√ó</span>
        <h2 id="createModalTitle">Criar Atividade</h2>
        <div style="margin-top:12px">
          <div style="display:flex;gap:8px;margin-bottom:8px;align-items:center">
            <input type="text" id="activityTitle" placeholder="T√≠tulo da atividade" style="flex:1;padding:12px 14px;min-width:0;" />
            <input type="text" id="activityKey" placeholder="Chave (opcional, sem espa√ßos)" style="width:220px;padding:12px 14px;" />
          </div>
          <div style="display:flex;gap:12px;margin-bottom:8px;align-items:center">
            <label style="display:flex;align-items:center;gap:6px"><input type="checkbox" id="activityAllowRetake" /> Permitir refazer</label>
            <label style="display:flex;align-items:center;gap:6px"><input type="checkbox" id="activityAllowView" /> Permitir ver respostas</label>
          </div>

          <div id="questionsContainer" style="margin-top:10px"></div>
          <div style="margin-top:8px;display:flex;gap:8px;justify-content:flex-end">
            <button id="addQuestionBtn" class="sidebar-btn">Adicionar Quest√£o</button>
            <button id="saveActivityBtn" class="sidebar-btn primary-action">Salvar Atividade</button>
          </div>
        </div>
      </div>
    </div>

    <nav>
      <a href="menudeensino.html" class="voltar">Voltar</a>
    </nav>

  </main>

  <footer class="footer">¬© 2025 Aprende+</footer>

  <script src="js/user-session.js"></script>
  <script src="js/theme-toggle.js"></script>
  <script src="js/provas.js"></script>
</body>
</html>
